"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[97],{2097:function(e,n,i){i.r(n),i.d(n,{default:function(){return f}});var t=i(4165),a=i(5861),s=i(9439),o=i(1245),c=i(184),r=(0,o.Z)((0,c.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack"),l=i(118),d=i(2791),v=i(7689),u=i(7788),p=i(2210),m=i(7988),h=i(5279),x=i(3093);var f=function(){var e,n=(0,v.UO)(),i=(0,v.s0)(),o=(0,v.s0)(),f=(0,d.useState)(0),j=(0,s.Z)(f,2),g=(j[0],j[1],(0,u.F7)()),N=(0,s.Z)(g,2),y=N[0],_=y.loggedIn,S=y.userData,b=(y.focusMapToCenter,N[1]),E=(0,d.useState)({}),A=(0,s.Z)(E,2),D=A[0],Z=A[1],k=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:"SET_LOADING",loading:!0}),e.next=3,x.V.get("/events/get-event-by-id",{params:{eventId:n}}).then((function(e){var n;Z(null===(n=e.data)||void 0===n?void 0:n.event)})).catch((function(e){var n,i;b({type:"SET_RESPONSE_DATA",responseData:{message:null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message,type:"error"}})}));case 3:b({type:"SET_LOADING",loading:!1});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:"SET_LOADING",loading:!0}),n=null===D||void 0===D?void 0:D._id,e.next=4,x.V.post("/events/join-event",{eventId:n}).then((function(e){var n;b({type:"SET_RESPONSE_DATA",responseData:{message:null===(n=e.data)||void 0===n?void 0:n.message,type:"success"}}),i("/")})).catch((function(e){var n,i;b({type:"SET_RESPONSE_DATA",responseData:{message:null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message,type:"error"}})}));case 4:b({type:"SET_LOADING",loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){var e=n.id;k(e)}),[null===n||void 0===n?void 0:n.id]),(0,c.jsxs)("div",{className:"event-container",children:[(0,c.jsxs)("div",{className:"event-back",onClick:function(){o(-1)},children:[(0,c.jsx)(r,{sx:{color:"rgb(162 161 161)",fontSize:"17px"}})," ",(0,c.jsx)("span",{children:"Back"})]}),(0,c.jsx)("div",{className:"event-main-container",children:(0,c.jsxs)("div",{className:"event-top",children:[(0,c.jsx)("img",{className:"event-main-img",src:m}),(0,c.jsx)("div",{className:"event-info event-more-images",children:(0,c.jsxs)("div",{className:"event-more-images-container",children:[(0,c.jsx)("img",{className:"event-more-img",src:m}),(0,c.jsx)("img",{className:"event-more-img event-more-img-selected",src:p})]})}),(0,c.jsxs)("div",{className:"event-info event-host",children:["Hosted by ",null===D||void 0===D?void 0:D.host]}),(0,c.jsxs)("div",{className:"event-top-container",children:[(0,c.jsx)("div",{className:"event-info event-location",children:(0,c.jsx)("h3",{children:null===D||void 0===D?void 0:D.location})}),(0,c.jsxs)("div",{className:"event-info-date-participants",children:[(0,c.jsx)("div",{className:"event-info event-date",children:function(e){var n=new Date(e),i=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],t=n.getDate(),a=n.getFullYear();return"".concat(i," ").concat(t," , ").concat(a)}(null===D||void 0===D?void 0:D.date)}),(0,c.jsxs)("div",{className:"event-info event-people",children:[(0,c.jsx)(l.Z,{sx:{marginRight:"3px"}}),(0,c.jsx)("span",{children:null===D||void 0===D||null===(e=D.participants)||void 0===e?void 0:e.length})]}),(null===D||void 0===D?void 0:D.max_players)&&(0,c.jsx)("div",{className:"event-info event-people",children:(0,c.jsxs)("span",{children:["Maximum players : ",null===D||void 0===D?void 0:D.max_players]})}),(null===D||void 0===D?void 0:D.min_age)&&(0,c.jsx)("div",{className:"event-info event-people",children:(0,c.jsxs)("span",{children:["Minimum age : ",null===D||void 0===D?void 0:D.min_age]})})]}),(null===D||void 0===D?void 0:D.description)&&(0,c.jsxs)("div",{className:"event-info event-desc",children:[(0,c.jsx)("p",{children:"Event details"}),null===D||void 0===D?void 0:D.description]}),(0,c.jsxs)("div",{className:"event-interaction-btns",children:[_&&function(){var e,n=null===S||void 0===S?void 0:S._id;return null===D||void 0===D||null===(e=D.participants)||void 0===e?void 0:e.includes(n)}()?(0,c.jsx)(h.Z,{variant:"contained",className:"event-join-btn",onClick:function(){return i("/chat")},children:"Go to chat"}):(0,c.jsx)(h.Z,{variant:"contained",className:"event-join-btn",onClick:function(){return T()},children:"Participate"}),(0,c.jsx)(h.Z,{variant:"contained",className:"event-join-btn",onClick:function(){b({type:"FLY_TO_LOCATION",id:D._id})},children:"Go to location"})]})]})]})})]})}}}]);
//# sourceMappingURL=97.bcbbd0d6.chunk.js.map