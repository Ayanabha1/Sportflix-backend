"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[240],{7240:function(e,a,n){n.r(a);var t=n(4165),s=n(5861),r=n(4942),i=n(1413),o=n(9439),l=n(2791),d=(n(5040),n(6560),n(3608)),c=n(5279),u=n(7689),p=n(7788),g=n(3093),m=n(184);a.default=function(){var e=(0,u.s0)(),a=(0,u.s0)(),n=(0,l.useState)({}),v=(0,o.Z)(n,2),h=v[0],f=v[1],S=(0,p.F7)(),x=(0,o.Z)(S,2),y=(x[0].loggedIn,x[1]),N=function(e){var a=e.id,n=e.value;f((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},a,n))}))},T=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),(null===h||void 0===h?void 0:h.password)!==(null===h||void 0===h?void 0:h.confirmPassword)){e.next=9;break}return y({type:"SET_LOADING",loading:!0}),s={name:h.name,email:h.email,dob:h.dob,password:h.password},e.next=6,g.V.post("/auth/signup",s).then((function(e){var n,t,s,r;localStorage.setItem("AUTH_TOKEN",null===(n=e.data)||void 0===n?void 0:n.token),(0,g.B)(null===(t=e.data)||void 0===t?void 0:t.token),y({type:"SET_LOGIN_STATUS",loggedIn:!0}),y({type:"SET_USER_DATA",userData:null===(s=e.data)||void 0===s?void 0:s.user}),y({type:"SET_RESPONSE_DATA",responseData:{message:null===(r=e.data)||void 0===r?void 0:r.message,type:"success"}}),a(-1)})).catch((function(e){var a,n;localStorage.removeItem("AUTH_TOKEN"),(0,g.B)(""),y({type:"SET_USER_DATA",userData:{}}),y({type:"SET_LOGIN_STATUS",loggedIn:!1}),y({type:"SET_RESPONSE_DATA",responseData:{message:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,type:"error"}})}));case 6:y({type:"SET_LOADING",loading:!1}),e.next=10;break;case 9:y({type:"SET_RESPONSE_DATA",responseData:{message:"Passwords did not match",type:"error"}});case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"login",children:(0,m.jsx)("div",{className:"login-container",children:(0,m.jsxs)("div",{className:"login-main-container",children:[(0,m.jsxs)("div",{className:"login-heading",children:[(0,m.jsxs)("h2",{children:["Welcome to"," ",(0,m.jsx)("span",{style:{color:"rgb(69,106,242)"},children:"SportFlix"})]}),(0,m.jsx)("span",{children:"Please enter your details"})]}),(0,m.jsxs)("form",{className:"login-credential-container",onSubmit:function(e){return T(e)},children:[(0,m.jsx)(d.Z,{className:"auth-input",label:"Name",variant:"standard",type:"text",id:"name",onChange:function(e){N(e.target)},required:!0}),(0,m.jsx)(d.Z,{className:"auth-input",label:"Email",variant:"standard",type:"email",id:"email",onChange:function(e){N(e.target)},required:!0}),(0,m.jsx)(d.Z,{id:"dob",label:"Date of birth",type:"date",variant:"standard",className:"auth-input",onChange:function(e){N(e.target)},InputLabelProps:{shrink:!0},required:!0}),(0,m.jsx)(d.Z,{className:"auth-input",label:"Password",variant:"standard",type:"password",id:"password",onChange:function(e){N(e.target)},required:!0}),(0,m.jsx)(d.Z,{className:"auth-input",label:"Confirm password",variant:"standard",type:"password",id:"confirmPassword",onChange:function(e){N(e.target)},required:!0}),(0,m.jsx)(c.Z,{className:"signup-button",variant:"contained",type:"submit",children:"Signup"}),(0,m.jsxs)("span",{className:"login-route",onClick:function(){e("/login")},children:["Already have an account?"," ",(0,m.jsxs)("span",{style:{textDecoration:"underline",cursor:"pointer"},children:[" ","Login"]})]})]})]})})})}},5040:function(){},6560:function(e,a,n){e.exports=n.p+"static/media/google.cadee8cdb0c0afb1a713.png"}}]);
//# sourceMappingURL=240.8d6b7485.chunk.js.map