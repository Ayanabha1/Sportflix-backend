{"version":3,"file":"static/js/51.ded1720b.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/ModeEditRounded.js","../node_modules/@mui/icons-material/esm/ArrowForwardRounded.js","Components/Profile/Profile.jsx","../node_modules/@mui/icons-material/esm/KeyboardArrowLeftOutlined.js"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z\"\n}), 'ModeEditRounded');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z\"\n}), 'ArrowForwardRounded');","import {\r\n  ArrowForwardRounded,\r\n  KeyboardArrowLeftOutlined,\r\n  ModeEditRounded,\r\n} from \"@mui/icons-material\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Api, resetApiHeaders } from \"../../Api/Axios\";\r\nimport { useDataLayerValue } from \"../../Datalayer/DataLayer\";\r\nimport \"./Profile.css\";\r\n\r\nfunction Profile() {\r\n  const [{ loading, loggedIn, userData }, dispatch] = useDataLayerValue();\r\n  const navigate = useNavigate();\r\n  const history = useNavigate();\r\n\r\n  const changeDateFormat = (__date) => {\r\n    const d = new Date(__date);\r\n    let date = d.getDate();\r\n    let month = d.getMonth() + 1;\r\n    let year = d.getFullYear();\r\n    if (date < 10) {\r\n      date = `0${date}`;\r\n    }\r\n    if (month < 10) {\r\n      month = `0${month}`;\r\n    }\r\n    return `${date}-${month}-${year}`;\r\n  };\r\n\r\n  const logoutFunc = () => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      loading: true,\r\n    });\r\n    localStorage.removeItem(\"AUTH_TOKEN\");\r\n    dispatch({\r\n      type: \"SET_LOGIN_STATUS\",\r\n      loggedIn: false,\r\n    });\r\n    dispatch({\r\n      type: \"SET_USER_DATA\",\r\n      userData: {},\r\n    });\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      loading: false,\r\n    });\r\n    resetApiHeaders(\"\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const loadUserData = async () => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      loading: true,\r\n    });\r\n    const token = localStorage.getItem(\"AUTH_TOKEN\");\r\n    // console.log(token);\r\n    if (token) {\r\n      await Api.get(\"/auth/getUser\")\r\n        .then((res) => {\r\n          dispatch({\r\n            type: \"SET_USER_DATA\",\r\n            userData: res.data,\r\n          });\r\n          dispatch({\r\n            type: \"SET_LOGIN_STATUS\",\r\n            loggedIn: true,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          localStorage.removeItem(\"AUTH_TOKEN\");\r\n          dispatch({\r\n            type: \"SET_LOGIN_STATUS\",\r\n            loggedIn: false,\r\n          });\r\n          dispatch({\r\n            type: \"SET_USER_DATA\",\r\n            userData: {},\r\n          });\r\n        });\r\n    } else {\r\n      dispatch({\r\n        type: \"SET_LOGIN_STATUS\",\r\n        loggedIn: false,\r\n      });\r\n    }\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      loading: false,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      loadUserData();\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <div className=\"profile-container\">\r\n        <div className=\"profile-header-container\">\r\n          <div className=\"profile-back-container\" onClick={() => history(-1)}>\r\n            <KeyboardArrowLeftOutlined />\r\n          </div>\r\n          <span>My Profile</span>\r\n        </div>\r\n        <div className=\"profile-main-container\">\r\n          <div className=\"profile-top\">\r\n            <div className=\"profile-picture-container\">\r\n              <ModeEditRounded\r\n                sx={{\r\n                  fontSize: \"15px\",\r\n                  background: \"rgba(0,0,0,0.5)\",\r\n                  padding: \"3px\",\r\n                  borderRadius: \"50%\",\r\n                }}\r\n                className=\"profile-picture-edit-btn\"\r\n              />\r\n            </div>\r\n            <div className=\"profile-top-info\">\r\n              <span>{userData?.name}</span>\r\n              <span>{userData?.age}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"profile-box profile-mid\">\r\n            <div className=\"profile-mid-container\">\r\n              <div className=\"profile-info-container\">\r\n                <div className=\"profile-mid-info\">\r\n                  <div className=\"profile-field-name\">Display Name</div>\r\n                  <div className=\"profile-field-value\">\r\n                    <span>{userData?.name}</span>\r\n                    <button>Edit</button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-mid-info\">\r\n                  <div className=\"profile-field-name\">Date of birth</div>\r\n                  <div className=\"profile-field-value\">\r\n                    <span>{changeDateFormat(userData?.dob)}</span>\r\n                    <button>Edit</button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-mid-info\">\r\n                  <div className=\"profile-field-name\">Email</div>\r\n                  <div className=\"profile-field-value\">\r\n                    <span>{userData?.email}</span>\r\n                    <button>Edit</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"profile-bottom\">\r\n            <div className=\"profile-bottom-main-container\">\r\n              <div className=\"profile-field\">\r\n                <div className=\"profile-field-name\">Events registered</div>\r\n                <div className=\"profile-field-value\">\r\n                  {userData?.events ? userData?.events?.length : 0}\r\n                </div>\r\n              </div>\r\n              <div className=\"profile-field\">\r\n                <div className=\"profile-field-name\">Events hosted</div>\r\n                <div className=\"profile-field-value\">\r\n                  {userData?.events_hosted\r\n                    ? userData?.events_hosted?.length\r\n                    : 0}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"profile-bottom-more\"\r\n              onClick={() => navigate(\"/registered-events\")}\r\n            >\r\n              <span>See All Participated Events</span>\r\n              <ArrowForwardRounded sx={{ fontSize: \"17px\" }} />\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className=\"profile-logout\"\r\n            onClick={() => {\r\n              logoutFunc();\r\n            }}\r\n          >\r\n            <span>Sign out</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\"\n}), 'KeyboardArrowLeftOutlined');"],"names":["createSvgIcon","_jsx","d","useDataLayerValue","loggedIn","loading","userData","dispatch","navigate","useNavigate","history","loadUserData","type","localStorage","getItem","Api","then","res","data","catch","err","removeItem","useEffect","className","onClick","KeyboardArrowLeftOutlined","ModeEditRounded","sx","fontSize","background","padding","borderRadius","name","age","__date","Date","date","getDate","month","getMonth","year","getFullYear","changeDateFormat","dob","email","events","length","events_hosted","ArrowForwardRounded","resetApiHeaders"],"sourceRoot":""}